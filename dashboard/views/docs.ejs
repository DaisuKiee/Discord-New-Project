<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #030014; font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; color: #fff; min-height: 100vh; }
        
        /* Loading Preloader */
        .page-preloader { position: fixed; inset: 0; background: #030014; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.4s ease, visibility 0.4s ease; }
        .page-preloader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .loader-spinner { width: 50px; height: 50px; border: 3px solid rgba(139, 92, 246, 0.2); border-top-color: #8b5cf6; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 1rem; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loader-text { color: rgba(255, 255, 255, 0.6); font-size: 0.95rem; }
        
        .grid-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px); background-size: 60px 60px; z-index: 0; }
        .orb { position: fixed; border-radius: 50%; filter: blur(80px); opacity: 0.4; z-index: 0; }
        .orb-1 { width: 500px; height: 500px; background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, transparent 70%); top: -100px; right: -100px; }
        .orb-2 { width: 400px; height: 400px; background: radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, transparent 70%); bottom: -100px; left: -100px; }
        
        .content { position: relative; z-index: 10; }
        
        .nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; padding: 1rem 2rem; background: rgba(3, 0, 20, 0.8); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(139, 92, 246, 0.1); }
        .nav-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .nav-brand { display: flex; align-items: center; gap: 12px; text-decoration: none; color: #fff; }
        .nav-brand img { width: 44px; height: 44px; border-radius: 12px; border: 2px solid rgba(139, 92, 246, 0.3); }
        .nav-brand span { font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #fff 0%, #a78bfa 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-links { display: flex; gap: 2rem; }
        .nav-links a { color: rgba(255, 255, 255, 0.7); text-decoration: none; font-weight: 500; transition: all 0.3s; }
        .nav-links a:hover, .nav-links a.active { color: #fff; }
        .btn-glow { background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%); padding: 12px 28px; border-radius: 12px; font-weight: 600; text-decoration: none; color: #fff; display: inline-flex; align-items: center; gap: 8px; }
        
        .main { padding: 120px 2rem 60px; max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: 280px 1fr; gap: 3rem; }
        
        .sidebar { position: sticky; top: 100px; height: fit-content; }
        .sidebar-title { font-size: 0.8rem; font-weight: 600; color: rgba(255, 255, 255, 0.4); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1rem; }
        .sidebar-nav { display: flex; flex-direction: column; gap: 4px; }
        .sidebar-link { padding: 12px 16px; border-radius: 12px; color: rgba(255, 255, 255, 0.6); text-decoration: none; display: flex; align-items: center; gap: 10px; transition: all 0.2s; border-left: 3px solid transparent; }
        .sidebar-link:hover { background: rgba(139, 92, 246, 0.1); color: #fff; }
        .sidebar-link.active { background: rgba(139, 92, 246, 0.15); color: #a78bfa; border-left-color: #8b5cf6; }
        .sidebar-link i { width: 20px; }
        
        .docs-content { min-width: 0; }
        .page-header { margin-bottom: 3rem; }
        .page-header h1 { font-size: 3rem; font-weight: 800; margin-bottom: 1rem; }
        .gradient-text { background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .page-header p { color: rgba(255, 255, 255, 0.6); font-size: 1.2rem; }
        
        .doc-section { display: none; }
        .doc-section.active { display: block; }
        
        .doc-card { background: rgba(20, 20, 30, 0.6); border: 1px solid rgba(139, 92, 246, 0.1); border-radius: 20px; padding: 2rem; margin-bottom: 1.5rem; }
        .doc-card h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 12px; }
        .doc-card h2 i { color: #8b5cf6; }
        .doc-card h3 { font-size: 1.1rem; font-weight: 600; color: #a78bfa; margin: 1.5rem 0 0.75rem; }
        .doc-card p { color: rgba(255, 255, 255, 0.6); line-height: 1.8; margin-bottom: 1rem; }
        .doc-card ul { color: rgba(255, 255, 255, 0.6); padding-left: 1.5rem; margin-bottom: 1rem; }
        .doc-card li { margin-bottom: 0.5rem; }
        
        .code-block { background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 1rem 1.25rem; font-family: 'Fira Code', monospace; margin-bottom: 1rem; }
        .code-block code { color: #22c55e; }
        .code-block .comment { color: rgba(255, 255, 255, 0.4); }
        
        .footer { padding: 3rem 2rem; border-top: 1px solid rgba(255, 255, 255, 0.05); text-align: center; color: rgba(255, 255, 255, 0.4); }
        
        /* Mobile Menu */
        .mobile-menu-btn { display: none; background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; }
        .mobile-menu { display: none; position: fixed; top: 76px; left: 0; right: 0; background: rgba(3, 0, 20, 0.98); backdrop-filter: blur(20px); padding: 1rem; border-bottom: 1px solid rgba(139, 92, 246, 0.1); z-index: 99; max-height: 80vh; overflow-y: auto; }
        .mobile-menu.open { display: block; }
        .mobile-menu a { display: block; padding: 0.75rem 1rem; color: rgba(255, 255, 255, 0.7); text-decoration: none; border-radius: 8px; }
        .mobile-menu a:hover, .mobile-menu a.active { background: rgba(139, 92, 246, 0.1); color: #fff; }
        .mobile-menu a i { margin-right: 8px; width: 16px; }
        
        @media (max-width: 1024px) { 
            .main { grid-template-columns: 1fr; padding: 110px 1.5rem 50px; } 
            .sidebar { display: none; } 
        }
        
        @media (max-width: 768px) {
            .nav { padding: 0.875rem 1rem; }
            .nav-links { display: none; }
            .mobile-menu-btn { display: block; }
            .nav-brand span { font-size: 1.1rem; }
            .btn-glow { padding: 10px 16px; font-size: 0.875rem; }
            .main { padding: 100px 1rem 40px; gap: 1.5rem; }
            .page-header { margin-bottom: 2rem; }
            .page-header h1 { font-size: 1.875rem; }
            .page-header p { font-size: 0.95rem; }
            .doc-card { padding: 1.25rem; border-radius: 16px; margin-bottom: 1rem; }
            .doc-card h2 { font-size: 1.15rem; gap: 10px; }
            .doc-card h2 i { font-size: 0.9rem; }
            .doc-card h3 { font-size: 1rem; margin: 1.25rem 0 0.5rem; }
            .doc-card p { font-size: 0.9rem; line-height: 1.7; }
            .doc-card ul { font-size: 0.9rem; padding-left: 1.25rem; }
            .code-block { padding: 0.75rem 1rem; font-size: 0.8rem; overflow-x: auto; border-radius: 10px; }
            .orb { opacity: 0.25; }
            .orb-1 { width: 300px; height: 300px; top: -100px; right: -100px; }
            .orb-2 { width: 250px; height: 250px; bottom: -100px; left: -100px; }
            .footer { padding: 2rem 1rem; font-size: 0.85rem; }
        }
        
        @media (max-width: 480px) {
            .nav { padding: 0.75rem; }
            .nav-brand img { width: 36px; height: 36px; border-radius: 10px; }
            .nav-brand span { display: none; }
            .btn-glow .btn-text { display: none; }
            .btn-glow { padding: 10px 12px; }
            .main { padding: 90px 0.875rem 30px; }
            .page-header { margin-bottom: 1.5rem; }
            .page-header h1 { font-size: 1.5rem; }
            .page-header p { font-size: 0.875rem; }
            .doc-card { padding: 1rem; border-radius: 14px; }
            .doc-card h2 { font-size: 1.05rem; margin-bottom: 0.75rem; }
            .doc-card h3 { font-size: 0.95rem; }
            .doc-card p { font-size: 0.85rem; margin-bottom: 0.75rem; }
            .doc-card ul { font-size: 0.85rem; }
            .doc-card li { margin-bottom: 0.375rem; }
            .code-block { padding: 0.625rem 0.875rem; font-size: 0.75rem; border-radius: 8px; }
            .orb { opacity: 0.15; }
            .orb-1 { width: 200px; height: 200px; }
            .orb-2 { width: 150px; height: 150px; }
            .footer { padding: 1.5rem 0.875rem; font-size: 0.8rem; }
            .mobile-menu { padding: 0.75rem; }
            .mobile-menu a { padding: 0.625rem 0.875rem; font-size: 0.9rem; }
        }
        
        @media (max-width: 360px) {
            .page-header h1 { font-size: 1.375rem; }
            .doc-card { padding: 0.875rem; }
            .doc-card h2 { font-size: 1rem; }
            .code-block { font-size: 0.7rem; padding: 0.5rem 0.75rem; }
        }
    </style>
</head>
<body>
    <!-- Loading Preloader -->
    <div class="page-preloader" id="pagePreloader">
        <div class="loader-spinner"></div>
        <div class="loader-text">Loading documentation...</div>
    </div>

    <div class="grid-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    
    <div class="content">
        <nav class="nav">
            <div class="nav-container">
                <a href="/" class="nav-brand">
                    <img id="bot-avatar" src="/images/bot-avatar.svg" alt="Bot">
                    <span id="bot-name">Dashboard</span>
                </a>
                <div class="nav-links">
                    <a href="/">Home</a>
                    <a href="/commands">Commands</a>
                    <a href="/status">Status</a>
                    <a href="/docs" class="active">Docs</a>
                    <a href="/faq">FAQ</a>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <% if (user) { %>
                        <a href="/dashboard" class="btn-glow"><i class="fas fa-columns"></i> <span class="btn-text">Dashboard</span></a>
                    <% } else { %>
                        <a href="/auth/login" class="btn-glow"><i class="fab fa-discord"></i> <span class="btn-text">Login</span></a>
                    <% } %>
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()"><i class="fas fa-bars"></i></button>
                </div>
            </div>
        </nav>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="/">Home</a>
            <a href="/commands">Commands</a>
            <a href="/status">Status</a>
            <a href="/docs" class="active">Docs</a>
            <a href="/faq">FAQ</a>
            <div style="border-top: 1px solid rgba(255,255,255,0.1); margin-top: 0.5rem; padding-top: 0.5rem;">
                <a href="#getting-started" class="doc-nav-link" data-section="getting-started"><i class="fas fa-rocket"></i> Getting Started</a>
                <a href="#commands" class="doc-nav-link" data-section="commands"><i class="fas fa-terminal"></i> Commands</a>
                <a href="#music" class="doc-nav-link" data-section="music"><i class="fas fa-music"></i> Music</a>
                <a href="#moderation" class="doc-nav-link" data-section="moderation"><i class="fas fa-shield-alt"></i> Moderation</a>
                <a href="#ai" class="doc-nav-link" data-section="ai"><i class="fas fa-brain"></i> AI Features</a>
                <a href="#tickets" class="doc-nav-link" data-section="tickets"><i class="fas fa-ticket-alt"></i> Tickets</a>
                <a href="#api" class="doc-nav-link" data-section="api"><i class="fas fa-code"></i> API</a>
            </div>
        </div>
        
        <main class="main">
            <aside class="sidebar">
                <div class="sidebar-title">Documentation</div>
                <nav class="sidebar-nav">
                    <a href="#getting-started" class="sidebar-link active" data-section="getting-started"><i class="fas fa-rocket"></i> Getting Started</a>
                    <a href="#commands" class="sidebar-link" data-section="commands"><i class="fas fa-terminal"></i> Commands</a>
                    <a href="#music" class="sidebar-link" data-section="music"><i class="fas fa-music"></i> Music</a>
                    <a href="#moderation" class="sidebar-link" data-section="moderation"><i class="fas fa-shield-alt"></i> Moderation</a>
                    <a href="#ai" class="sidebar-link" data-section="ai"><i class="fas fa-brain"></i> AI Features</a>
                    <a href="#tickets" class="sidebar-link" data-section="tickets"><i class="fas fa-ticket-alt"></i> Tickets</a>
                    <a href="#api" class="sidebar-link" data-section="api"><i class="fas fa-code"></i> API</a>
                </nav>
            </aside>
            
            <div class="docs-content">
                <div class="page-header">
                    <h1><span class="gradient-text">Documentation</span></h1>
                    <p>Everything you need to know about using the bot</p>
                </div>
                
                <section id="getting-started" class="doc-section active">
                    <div class="doc-card">
                        <h2><i class="fas fa-rocket"></i> Getting Started</h2>
                        <p>Welcome! Follow these steps to set up the bot in your server.</p>
                        <h3>1. Invite the Bot</h3>
                        <p>Click the invite button on the homepage to add the bot. Make sure you have "Manage Server" permission.</p>
                        <h3>2. Set Up Permissions</h3>
                        <p>The bot needs these permissions for full functionality:</p>
                        <ul>
                            <li>Manage Messages, Roles, Channels</li>
                            <li>Send Messages, Embed Links</li>
                            <li>Connect & Speak (for music)</li>
                        </ul>
                        <h3>3. Quick Commands</h3>
                        <div class="code-block"><code>/help</code> <span class="comment">- View all commands</span></div>
                        <div class="code-block"><code>/setup</code> <span class="comment">- Quick setup wizard</span></div>
                    </div>
                </section>
                
                <section id="commands" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-terminal"></i> Commands Overview</h2>
                        <p>All commands use Discord's slash command system. Type <code>/</code> to see available commands.</p>
                        <h3>Command Categories</h3>
                        <ul>
                            <li><strong>Moderation:</strong> ban, kick, mute, warn, purge</li>
                            <li><strong>Music:</strong> play, skip, queue, volume, loop</li>
                            <li><strong>AI:</strong> ask, imagine, chat, summarize</li>
                            <li><strong>Utility:</strong> avatar, userinfo, serverinfo</li>
                        </ul>
                    </div>
                </section>
                
                <section id="music" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-music"></i> Music System</h2>
                        <p>High-quality music from YouTube, Spotify, and SoundCloud.</p>
                        <h3>Commands</h3>
                        <div class="code-block"><code>/play [query]</code> <span class="comment">- Play a song</span></div>
                        <div class="code-block"><code>/skip</code> <span class="comment">- Skip current song</span></div>
                        <div class="code-block"><code>/queue</code> <span class="comment">- View queue</span></div>
                        <div class="code-block"><code>/volume [1-100]</code> <span class="comment">- Adjust volume</span></div>
                    </div>
                </section>
                
                <section id="moderation" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-shield-alt"></i> Moderation</h2>
                        <p>Powerful tools to keep your server safe.</p>
                        <div class="code-block"><code>/ban [user] [reason]</code></div>
                        <div class="code-block"><code>/kick [user] [reason]</code></div>
                        <div class="code-block"><code>/mute [user] [duration]</code></div>
                        <div class="code-block"><code>/warn [user] [reason]</code></div>
                    </div>
                </section>
                
                <section id="ai" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-brain"></i> AI Features</h2>
                        <p>Powered by GPT-4, Claude, and Gemini.</p>
                        <div class="code-block"><code>/ask [question]</code> <span class="comment">- Ask AI anything</span></div>
                        <div class="code-block"><code>/imagine [prompt]</code> <span class="comment">- Generate images</span></div>
                    </div>
                </section>
                
                <section id="tickets" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-ticket-alt"></i> Ticket System</h2>
                        <p>Professional support tickets with transcripts.</p>
                        <div class="code-block"><code>/ticket create</code></div>
                        <div class="code-block"><code>/ticket close</code></div>
                        <div class="code-block"><code>/ticket add [user]</code></div>
                    </div>
                </section>
                
                <section id="api" class="doc-section">
                    <div class="doc-card">
                        <h2><i class="fas fa-code"></i> API Reference</h2>
                        <p>Public API endpoints for integrations.</p>
                        <div class="code-block"><code>GET /api/bot-info</code> <span class="comment">- Bot statistics</span></div>
                        <div class="code-block"><code>GET /api/shard-status</code> <span class="comment">- Shard status</span></div>
                        <div class="code-block"><code>GET /api/commands</code> <span class="comment">- Command list</span></div>
                    </div>
                </section>
            </div>
        </main>
        
        <footer class="footer">
            <p id="footer-text">&copy; 2024 Discord Bot. All rights reserved.</p>
        </footer>
    </div>
    
    <script>
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('open');
        }
        
        function switchSection(section) {
            document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
            document.querySelector(`.sidebar-link[data-section="${section}"]`)?.classList.add('active');
            document.querySelectorAll('.doc-section').forEach(s => s.classList.remove('active'));
            document.getElementById(section).classList.add('active');
            document.getElementById('mobileMenu').classList.remove('open');
        }
        
        document.querySelectorAll('.sidebar-link, .doc-nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                switchSection(link.dataset.section);
            });
        });
        
        async function loadBotInfo() {
            try {
                const res = await fetch('/api/bot-info');
                const data = await res.json();
                if (data.username) {
                    document.getElementById('bot-name').textContent = data.username;
                    document.getElementById('page-title').textContent = `${data.username} - Documentation`;
                    document.getElementById('footer-text').textContent = `Â© 2024 ${data.username}. All rights reserved.`;
                }
                if (data.avatar) document.getElementById('bot-avatar').src = data.avatar;
            } catch (e) {}
        }
        
        // Hide preloader when page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('pagePreloader').classList.add('hidden');
            }, 800);
        });
        
        loadBotInfo();
    </script>
</body>
</html>
